<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">

<head th:replace="fragments/fragm.html :: head"></head>

<body class="body-reg">

<nav th:replace="fragments/fragm.html :: navbar" class=" navbar-dark bg-dark"></nav>

<main class="j-1 reg-image">
    <div class="container text-light d-flex">
        <h1 class="display-3">
            <strong class="border-left border-white pl-3 border-bottom">
                Register</strong>
        </h1>
    </div>
    <div class="container-lg">
        <form th:action="@{/users/register}"
              method="POST"
              th:object="${userRegisterBindingModel}"
              class=" col-xs-6 col-sm-4">
            <div class="form-group">
                <label for="username" class="col-sm-3 col-form-label text-light">Username</label>
                <div class="col-xs-6">
                    <input th:field="*{username}" th:errorclass="bg-danger" type="text" class="form-control"
                           id="username" name="username" aria-describedby="usernameHelpInline" placeholder="Username">
                    <small th:if="${#fields.hasErrors('username')}" th:errors="*{username}" id="usernameHelpInline"
                           class="bg-danger text-light rounded">
                        Username length must be between 5 and 20 characters.
                    </small>

                    <small th:if="${userAlreadyExists}" id="usernameUnique" class="bg-danger text-light rounded">
                        Username already exists.
                    </small>

                </div>
            </div>

            <div class="form-group">
                <label for="firstName" class="col-sm-3 col-form-label text-light">First name</label>
                <div class="col-xs-6">
                    <input th:field="*{firstName}" th:errorclass="bg-danger" type="text" class="form-control"
                           id="firstName" name="firstName" aria-describedby="usernameHelpInline"
                           placeholder="First name">
                    <small th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" id="firstNameHelpInline"
                           class="bg-danger text-light rounded">
                        Username length must be between 5 and 20 characters.
                    </small>
                </div>
            </div>

            <div class="form-group">
                <label for="phone" class="col-sm-6 col-form-label text-light">Phone number</label>
                <div class="col-xs-6">
                    <input th:field="*{phoneNumber}" th:errorclass="bg-danger"
                           type="tel" class="form-control" id="phone" name="phone"
                           placeholder="XXXX-XX-XX-XX" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}-[0-9]{2}">
                    <small class="text-light">Field format: XXXX-XX-XX-XX</small>
                    <small th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}"
                           id="phoneNumberHelpInline"
                           class="bg-danger text-light rounded">
                        Phone number must be in the format XXXX-XX-XX-XX.
                    </small>
                </div>
            </div>
            <div class="form-group ">
                <label for="email" class="col-sm-3 col-form-label text-light">Email</label>
                <div class="col-xs-6">
                    <input th:field="*{email}" th:errorclass="bg-danger" type="text" class="form-control" id="email"
                           name="email" aria-describedby="emailHelpInline" placeholder="email@example.com">
                    <small th:if="${#fields.hasErrors('email')}" th:errors="*{email}" id="emailHelpInline"
                           class="bg-danger text-light rounded">
                        Enter valid email address.
                    </small>
                </div>
            </div>
            <div class="form-group ">
                <label for="password" class="col-sm-3 col-form-label  text-light">Password</label>
                <div class="col-xs-6">
                    <input th:field="*{password}" th:errorclass="bg-danger" type="password" class="form-control"
                           id="password" name="username" aria-describedby="usernameHelpInline" placeholder="Password">
                    <small th:if="${#fields.hasErrors('password')}" th:errors="*{password}" id="passwordHelpInline"
                           class="bg-danger text-light rounded">
                        Password length must be between 5 and 20 characters.
                    </small>
                </div>
            </div>
            <div class="form-group ">
                <label for="confirmPassword" class="col-sm-6 col-form-label text-light">Confirm Password</label>
                <div class="col-xs-6">
                    <input th:field="*{confirmPassword}" th:errorclass="bg-danger" type="password"
                           class="form-control" id="confirmPassword" name="confirmPassword"
                           aria-describedby="confirmPasswordHelpInline" placeholder="Confirm Password">
                    <small th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}"
                           id="confirmPasswordHelpInline" class="bg-danger text-light rounded">
                        Password length must be more than 3 characters long.
                    </small>
                </div>
            </div>
            <br>
            <div class="form-group ">
                <div class="">
                    <input type="submit" value="Register" class="center-block u-form-control-hidden rgBtn">
                </div>
            </div>
        </form>
    </div>
</main>

<footer th:replace="fragments/fragm.html :: footer" class="text-center text-lg-start bg-dark text-muted "></footer>

</body>
</html>